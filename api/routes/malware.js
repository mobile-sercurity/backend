const express = require('express')
const router = express.Router()

// import file
const database = require("../../config")

router.get("/", (request, response) => {
    const query = "SELECT * FROM malware "
    database.query(query, (error, malwares) => {
        if(error) throw error;
        console.log(malwares);
        response.status(200).json({
            "malware": malwares,
            "error" : false,
        })
    })
});

// Add Review about Product
// router.post("/add", (request, response) => {
//     const userId = request.body.userId
//     const productId = request.body.productId
//     const feedback = request.body.feedback
//     const rate = request.body.rate

//     const query = "INSERT INTO review(user_Id, product_Id, feedback, rate ,review_date) VALUES(?, ?, ?, ?,NOW())"
   
//     const args = [userId, productId, feedback,rate]

//     database.query(query, args, (error, result) => {
//         if (error) {
//             if (error.code === 'ER_DUP_ENTRY') {
//                 response.status(500).send("Deplicate Entry")
//             } else {
//                 throw error;
//             }
//         } else {
//             response.status(200).send("Review is Added")
//         }
//     });
// });


module.exports = router